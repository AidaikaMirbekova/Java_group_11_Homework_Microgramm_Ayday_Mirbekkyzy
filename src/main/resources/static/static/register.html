<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="css/register_style.css">
    <title>Register page</title>
</head>

<body>
    <!-- multistep form -->
    <div class class="register">
        <form id="msform">

            <fieldset>
                <h2 class="fs-title">Create your account</h2>
                <input type="text" name="name" placeholder="Name" />
                <input type="text" name="email" placeholder="Email" required="true" />
                <input type="text" name="login" placeholder="Login" />
                <input type="password" name="password" placeholder="Password" required="true" />
                <input type="password" name="password" placeholder="Confirm Password" required="true" />
                <button type="submit" name="submit" class="submit action-button" value="Submit">Sign Up</button>
            </fieldset>
        </form>
    </div>

    <script>
        const baseUrl = 'http://localhost:8889';
        // function for show main content after register user
        $('#msform').on('submit', (e) => {
            e.preventDefault();
            let form = new FormData(e.target)
            let data = JSON.stringify(Object.fromEntries(form))
            console.log(data)
            axios.post(baseUrl + '/register', data, {
                    cache: 'no-cache',

                    mode: 'cors',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                })
                .then(response => {
                    console.log(response.status)
                })
            window.location.href = 'http://localhost:63342/micrigramm/static/static/profile.html?_ijt=7il6ub0k4hbakk1pn3l79n17lg&_ij_reload=RELOAD_ON_SAVE'

        })
    </script>
</body>

</html>